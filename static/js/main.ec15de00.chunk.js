(this.webpackJsonpreact_weather_task=this.webpackJsonpreact_weather_task||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(5),r=n.n(s),i=(n(11),n(2)),o=(n(12),n(3)),l=n.n(o),j=(n(13),n(0)),u=a.a.memo((function(e){var t=e.weather;return Object(j.jsx)("div",{className:"weather",children:Object(j.jsxs)("section",{className:"weather--container",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"icon",src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:""})}),Object(j.jsxs)("div",{className:"weather--container__about",children:[Object(j.jsx)("span",{className:"weather--container__name",children:t.name}),Object(j.jsxs)("div",{className:"temp",children:[Object(j.jsx)("span",{className:"temp__degre",children:Math.round(t.main.temp-273.15)}),Object(j.jsx)("span",{className:"temp__celsius",children:"C"})]})]})]})})})),d=function(e){return fetch("https://api.openweathermap.org/data/2.5/".concat(e,"&appid=348d3054b4f5732453d1ab4bd9d80eca")).then((function(e){return e.ok?e.json():Promise.reject(e)}))},h=(n(15),function(e){var t=e.citys,n=e.onAdd;return Object(j.jsx)("ul",{className:"citys",children:t.map((function(e){return Object(j.jsx)("li",{className:"citys--item",onClick:function(){return n(e)},children:Object(j.jsx)("span",{className:"citys--name",children:e.place_name})},e.id)}))})}),b=(n(16),function(e){var t=e.setGeo,n=(e.onError,Object(c.useState)("")),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)([]),m=Object(i.a)(b,2),O=m[0],p=m[1],f=Object(c.useCallback)(function(e){var t;return function(n){clearTimeout(t),t=setTimeout(e,1e3,n)}}(d),[]);Object(c.useEffect)((function(){var e;u&&(e=u,fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json?access_token=pk.eyJ1Ijoic2VyaGlpdWEiLCJhIjoiY2t1d2hhNnpvMXg3ejJ1bG5tbHdmeGtnciJ9.ddqlI9No9vaqKynBUQviWg")).then((function(e){return e.json()}))).then((function(e){return p(e.features)}))}),[u]);var x=function(e){var n=e.geometry.coordinates.reverse();t(n),r(""),d(""),p([])};return Object(j.jsx)("div",{className:"form",children:Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),O.length&&x(O[0])}(e)},children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Find city","aria-label":"Find city","aria-describedby":"button-addon2",value:s,onChange:function(e){return t=e.target.value,!s.trim()&&O.length&&p([]),r(t),void f(t);var t}}),Object(j.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",id:"button-addon2",disabled:!s,children:"Button"})]}),!!O.length&&!!s&&Object(j.jsx)(h,{citys:O,onAdd:x})]})})}),m=n(6),O=n(22),p=(n(17),function(e){var t=e.dew_point,n=e.weather,c=e.dt,a=new Date(1e3*c);return Object(j.jsxs)("div",{className:l()("element",{"cold-weather":Math.round(t-273.15)<=-10,"cool-weather":10===Math.round(t-273.15),"hot-weather":Math.round(t-273.15)>=30}),children:[Object(j.jsx)("div",{className:"element--week-day",children:Object(j.jsx)("span",{children:a.toLocaleDateString("en-US",{weekday:"long"})})}),Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(n[0].icon,"@2x.png"),alt:""})}),Object(j.jsx)("div",{className:"element--temp",children:Object(j.jsx)("span",{children:Math.round(t-273.15)})})]})}),f=(n(18),function(e){var t=e.list;return Object(j.jsx)("ul",{className:"list",children:t.map((function(e){return Object(j.jsx)("li",{className:"list--item",children:Object(j.jsx)(p,Object(m.a)({},e))},Object(O.a)())}))})});var x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(i.a)(s,2),o=r[0],h=r[1],m=Object(c.useState)(null),O=Object(i.a)(m,2),p=O[0],x=O[1],v=Object(c.useState)([]),g=Object(i.a)(v,2),w=g[0],N=g[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;a([t.latitude,t.longitude])}))}),[]),Object(c.useEffect)((function(){n.length&&d("weather?lat=".concat(n[0],"&lon=").concat(n[1])).then((function(e){h(e),x(null)})).catch(x)}),[n]),Object(c.useEffect)((function(){n.length&&d("onecall?lat=".concat(n[0],"&lon=").concat(n[1],"&exclude=current,hourly,minutely")).then((function(e){return e.daily})).then(N)}),[n]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)(b,{onError:x,setGeo:a})}),Object(j.jsx)("div",{className:"error",children:p&&Object(j.jsx)("span",{className:"error--mesage",children:p.statusText})}),o&&Object(j.jsx)("div",{className:l()("location",{"cold-weather":o&&Math.round(o.main.temp-273.15)<=-10,"cool-weather":o&&10===Math.round(o.main.temp-273.15),"hot-weather":o&&Math.round(o.main.temp-273.15)>=30}),children:Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{children:Object(j.jsx)(u,{weather:o})}),Object(j.jsx)("section",{children:!!w.length&&Object(j.jsx)(f,{list:w.slice(0,-1)})})]})})]})};n(19);r.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.ec15de00.chunk.js.map